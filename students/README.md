# Лабораторная работа №4
## Проектирование специализированной системы управления данными САПР

### Описание проекта
Система учета успеваемости и посещаемости студентов с использованием PostgreSQL базы данных.

### Структура проекта

```
students/
├── src/                    # Исходный код Java
│   ├── Main.java          # Главный класс приложения
│   ├── DatabaseConnection.java  # Подключение к БД
│   ├── StudentDAO.java    # DAO для работы со студентами
│   ├── GradeDAO.java      # DAO для работы с оценками
│   ├── AttendanceDAO.java # DAO для работы с посещаемостью
│   ├── DisciplineDAO.java # DAO для работы с дисциплинами
│   ├── GroupDAO.java      # DAO для работы с группами
│   ├── FacultyDAO.java    # DAO для работы с факультетами
│   └── ...                # Модели данных (Student, Grade, Attendance и др.)
├── database/              # SQL скрипты
│   ├── create_database.sql    # Создание БД и таблиц
│   └── insert_sample_data.sql # Заполнение тестовыми данными
└── README.md              # Этот файл
```

### Требования

1. **Java JDK 8+**
2. **PostgreSQL 12+**
3. **PostgreSQL JDBC Driver** (postgresql-42.x.x.jar)

### Установка и настройка

#### 1. Установка PostgreSQL

Убедитесь, что PostgreSQL установлен и запущен на вашем компьютере.

#### 2. Создание базы данных

Откройте pgAdmin или psql и выполните скрипт создания БД:

```bash
psql -U postgres -f database/create_database.sql
```

Или вручную:
1. Откройте pgAdmin
2. Подключитесь к серверу PostgreSQL
3. Создайте новую базу данных `students_db`
4. Выполните скрипт `database/create_database.sql`
5. Выполните скрипт `database/insert_sample_data.sql` для заполнения тестовыми данными

#### 3. Настройка подключения к БД

Откройте файл `src/DatabaseConnection.java` и при необходимости измените параметры подключения:

```java
private static final String DB_URL = "jdbc:postgresql://localhost:5432/students_db";
private static final String DB_USER = "postgres";
private static final String DB_PASSWORD = "postgres"; // Измените на ваш пароль
```

#### 4. Добавление JDBC драйвера

**Вариант 1: Через Maven (если используете Maven)**

Добавьте в `pom.xml`:
```xml
<dependency>
    <groupId>org.postgresql</groupId>
    <artifactId>postgresql</artifactId>
    <version>42.7.1</version>
</dependency>
```

**Вариант 2: Вручную**

1. Скачайте PostgreSQL JDBC драйвер: https://jdbc.postgresql.org/download/
2. Добавьте JAR файл в classpath вашего проекта:
   - В IntelliJ IDEA: File → Project Structure → Libraries → + → выберите JAR
   - В Eclipse: Project → Properties → Java Build Path → Libraries → Add External JARs
   - При компиляции через командную строку: `javac -cp ".:postgresql-42.7.1.jar" src/*.java`

### Запуск приложения

#### Через IDE (IntelliJ IDEA / Eclipse)

1. Откройте проект в IDE
2. Убедитесь, что JDBC драйвер добавлен в classpath
3. Запустите класс `Main`

#### Через командную строку

```bash
# Компиляция
javac -cp ".:postgresql-42.7.1.jar" src/*.java -d out

# Запуск
java -cp "out:postgresql-42.7.1.jar" Main
```

### Структура базы данных

#### Диаграмма сущность-связь (ER-диаграмма)

```
┌─────────────┐
│  Faculties  │
└──────┬──────┘
       │
       │ 1:N
       │
┌──────▼──────────┐
│  Specialties    │
└──────┬──────────┘
       │
       │ 1:N
       │
┌──────▼──────┐      ┌──────────┐
│   Groups    │      │ Teachers │
└──────┬──────┘      └──────────┘
       │
       │ 1:N
       │
┌──────▼──────┐
│  Students   │
└──────┬──────┘
       │
       │ 1:N        │ 1:N
       │            │
┌──────▼──────┐  ┌──▼──────────┐
│   Grades    │  │ Attendance  │
└──────┬──────┘  └─────────────┘
       │
       │ N:1
       │
┌──────▼──────────┐
│  Disciplines   │
└────────────────┘
```

#### Основные таблицы

- **faculties** - Факультеты
- **specialties** - Специальности
- **groups** - Учебные группы
- **teachers** - Преподаватели
- **disciplines** - Учебные дисциплины
- **students** - Студенты
- **grades** - Оценки
- **attendance** - Посещаемость

### Функциональность

1. **Просмотр списка студентов** - загрузка из БД с отображением группы и факультета
2. **Поиск студентов** - по ФИО или номеру зачётной книжки
3. **Добавление студента** - с сохранением в БД
4. **Редактирование студента** - обновление данных в БД
5. **Удаление студента** - с каскадным удалением связанных записей
6. **Просмотр оценок и посещаемости** - загрузка из БД
7. **Добавление оценок** - с сохранением в БД
8. **Добавление записей посещаемости** - с сохранением в БД
9. **Генерация справки** - экспорт в текстовый файл

### Особенности реализации

- **Объектно-ориентированный подход** - использование классов и наследования
- **DAO паттерн** - разделение логики доступа к данным
- **Нормализация БД** - устранение избыточности данных
- **Целостность данных** - использование внешних ключей и каскадного удаления
- **Индексы** - для ускорения поиска

### Модели данных

#### Инфологическая модель
Описание предметной области: система учета студентов, их успеваемости и посещаемости.

#### Логическая модель
Реляционная модель данных с нормализацией до 3NF.

#### Физическая модель
PostgreSQL база данных с индексами и ограничениями целостности.

### Автор
Лабораторная работа выполнена в рамках курса "Системы автоматизированного проектирования"

