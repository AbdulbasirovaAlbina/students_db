# Отчет по лабораторной работе №4
## Проектирование специализированной системы управления данными САПР

### Выполненные задачи

#### 1. Анализ задания и разработка моделей

**Инфологическая модель:**
- Определены основные сущности предметной области: Факультет, Специальность, Группа, Студент, Преподаватель, Дисциплина, Оценка, Посещаемость
- Определены связи между сущностями и их кардинальности

**Логическая модель:**
- Разработана реляционная модель данных
- Выполнена нормализация до 3NF (третьей нормальной формы)
- Определены первичные и внешние ключи
- Определены ограничения целостности

**Физическая модель:**
- Реализована в PostgreSQL
- Созданы индексы для ускорения поиска
- Настроены каскадные операции удаления

#### 2. Диаграмма сущность-связь

Создана ER-диаграмма (описание в файле `database/DATABASE_SCHEMA.md`):

```
faculties (1) ──────< (N) specialties (1) ──────< (N) groups (1) ──────< (N) students
                                                                              │
                                                                              │ 1:N
                                                                              │
                                                                        ┌─────▼──────┐
                                                                        │   grades   │
                                                                        └─────┬──────┘
                                                                              │ N:1
                                                                        ┌─────▼──────────┐
                                                                        │  disciplines   │
                                                                        └─────┬──────────┘
                                                                              │ N:1
                                                                        ┌─────▼──────────┐
                                                                        │  attendance   │
                                                                        └────────────────┘
```

#### 3. Информационные объекты в виде классов Java

Разработаны следующие классы:

**Модели данных:**
- `Person` - абстрактный базовый класс для персон
- `Student` - студент (наследуется от Person)
- `Teacher` - преподаватель (наследуется от Person)
- `Faculty` - факультет
- `Specialty` - специальность
- `Group` - группа
- `Discipline` - дисциплина
- `Grade` - оценка
- `Attendance` - посещаемость

**Классы для работы с БД:**
- `DatabaseConnection` - управление подключением к БД
- `StudentDAO` - операции со студентами
- `GradeDAO` - операции с оценками
- `AttendanceDAO` - операции с посещаемостью
- `DisciplineDAO` - операции с дисциплинами
- `GroupDAO` - операции с группами
- `FacultyDAO` - операции с факультетами

#### 4. Операции работы с данными

**Операции сохранения:**
- Сохранение в оперативной памяти (списки в объектах)
- Сохранение в долговременной памяти (PostgreSQL БД)
- Автоматическая синхронизация между памятью и БД

**Операции преобразования данных:**
- Преобразование из ResultSet в объекты Java (mapping)
- Преобразование из объектов Java в SQL запросы

**Операции ввода и редактирования:**
- Добавление студента
- Редактирование студента
- Добавление оценки
- Добавление записи посещаемости
- Удаление студента (с каскадным удалением связанных записей)

**Операции поиска:**
- Поиск студентов по ФИО
- Поиск студентов по номеру зачётной книжки
- Загрузка оценок по студенту
- Загрузка посещаемости по студенту

**Поддержка семантической целостности:**
- Использование внешних ключей (FOREIGN KEY)
- Каскадное удаление (CASCADE DELETE)
- Ограничения CHECK (проверка оценок 2-5)
- Уникальные ограничения (UNIQUE) для предотвращения дублирования
- NOT NULL для обязательных полей

#### 5. Программа управления базой данных

**Графический интерфейс:**
- Главное окно с таблицей студентов
- Диалоги для добавления/редактирования студентов
- Диалоги для работы с оценками и посещаемостью
- Поиск по таблице
- Экспорт справки в текстовый файл

**Функциональность:**
- ✅ Загрузка данных из БД при запуске
- ✅ Отображение студентов с информацией о группе и факультете
- ✅ Поиск студентов
- ✅ Добавление нового студента с сохранением в БД
- ✅ Редактирование студента с обновлением в БД
- ✅ Удаление студента с каскадным удалением связанных записей
- ✅ Просмотр оценок студента
- ✅ Добавление оценки с сохранением в БД
- ✅ Просмотр посещаемости студента
- ✅ Добавление записи посещаемости с сохранением в БД
- ✅ Генерация и сохранение справки о студенте

### Структура базы данных

**Таблицы:**
1. `faculties` - Факультеты (4 записи)
2. `specialties` - Специальности (5 записей)
3. `groups` - Группы (6 записей)
4. `teachers` - Преподаватели (5 записей)
5. `disciplines` - Дисциплины (8 записей)
6. `students` - Студенты (10 записей)
7. `grades` - Оценки (10+ записей)
8. `attendance` - Посещаемость (13+ записей)

**Связи:**
- Специальности → Факультеты (N:1)
- Группы → Специальности (N:1)
- Студенты → Группы (N:1)
- Оценки → Студенты (N:1)
- Оценки → Дисциплины (N:1)
- Посещаемость → Студенты (N:1)
- Посещаемость → Дисциплины (N:1)
- Дисциплины → Специальности (N:1)

### Технологии

- **Язык программирования:** Java
- **База данных:** PostgreSQL
- **JDBC драйвер:** PostgreSQL JDBC Driver 42.x
- **GUI:** Java Swing
- **Паттерны проектирования:** DAO (Data Access Object)

### Особенности реализации

1. **Объектно-ориентированный подход:**
   - Использование наследования (Person → Student, Teacher)
   - Инкапсуляция данных
   - Полиморфизм

2. **Разделение ответственности:**
   - Модели данных отделены от логики доступа к БД
   - DAO классы инкапсулируют SQL запросы
   - GUI отделен от бизнес-логики

3. **Нормализация БД:**
   - Устранение избыточности данных
   - Минимизация аномалий вставки, обновления и удаления

4. **Целостность данных:**
   - Автоматическая проверка ограничений на уровне БД
   - Каскадное удаление связанных записей
   - Защита от некорректных данных

### Файлы проекта

**Исходный код:**
- `src/Main.java` - главный класс приложения
- `src/DatabaseConnection.java` - подключение к БД
- `src/*DAO.java` - классы для работы с БД
- `src/*.java` - модели данных

**SQL скрипты:**
- `database/create_database.sql` - создание БД и таблиц
- `database/insert_sample_data.sql` - заполнение тестовыми данными

**Документация:**
- `README.md` - общее описание проекта
- `INSTALLATION.md` - инструкция по установке
- `QUICK_START.md` - быстрый старт
- `database/DATABASE_SCHEMA.md` - описание схемы БД
- `database/README.md` - инструкция по SQL скриптам

### Выводы

Выполнена лабораторная работа по проектированию специализированной системы управления данными САПР. Разработана полнофункциональная система учета студентов с использованием объектно-ориентированного подхода и реляционной базы данных PostgreSQL. Система поддерживает все необходимые операции работы с данными, обеспечивает целостность данных и имеет удобный графический интерфейс.

